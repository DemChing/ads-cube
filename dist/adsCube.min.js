!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.adsCube=t()}("undefined"!=typeof self?self:this,(function(){return(e,t)=>{if(e={ads:[],dir:0,popup:!1,fullscreen:!1,responsive:!1,autoClose:!1,autoRotate:!0,popupWait:10,counter:0,...e},t={waitingMessage:"Please wait %s seconds to close...",closeMessage:"Click here to close",...t},Array.isArray(e.ads)||(e.ads=[]),e.ads=e.ads.filter(e=>!!e.src),0==e.ads.length)return void console.error("[ads-cube] No valid ads defined");let a=document.createElement("div"),o=document.createElement("div"),n=document.createElement("div"),s=e.dir<2?"Y":"X",l=0,i=e.responsive&&e.fullscreen?1:.8,d=Math.floor(document.body.clientWidth*i),c=Math.floor(document.body.clientHeight*i),r=e=>e instanceof Element||e instanceof HTMLElement;if(e.responsive&&e.width&&e.height){let t=Math.min(d/e.width,c/e.height);d=Math.floor(e.width*t),c=Math.floor(e.height*t)}else e.width&&e.height&&(d=e.width,c=e.height);let p=("Y"==s?d:c)/2,u=t=>{document.hasFocus()&&(t=t||(e.dir%2==1?1:-1),l+=90*t,n.style.transform=`translateZ(-${p}px) rotate${s}(${l}deg)`)},h=(...e)=>{let a="";if(e.length>0&&e[0]in t){a=t[e[0]];for(let t=1;t<e.length;t++)a=a.replace("%s",e[t])}return a};for(a.className="ads-cube-backdrop "+(e.popup?"popup":""),o.className="ads-cube-container",o.style.width=d,o.style.height=c,n.className="ads-cube",n.style.transform=`translateZ(-${p}px)`,e.autoRotate&&setInterval(u,"number"==typeof e.autoRotate?e.autoRotate:1e4),"Y"==s?(n.rotateLeft=()=>u(-1),n.rotateRight=()=>u(1)):(n.rotateUp=()=>u(1),n.rotateDown=()=>u(-1));e.ads.length<4;)e.ads=e.ads.concat(e.ads).slice(0,4);if(e.ads=e.ads.slice(0,4),e.ads.map((e,t)=>{let a=document.createElement("div");a.className="ads-cube-side",r(e.src)?a.appendChild(e.src):a.style.backgroundImage=`url("${e.src}")`,a.style.transform=`translate${t%2==0?"Z":"Y"==s?"X":"Y"}(${p*(t>1?-1:1)}px)${0==t?"":` rotate${s}(${t%2==1?90:-180}deg)`}${"Y"==s&&3==t||"X"==s&&1==t?` scale${"Y"==s?"X":"Y"}(-1)`:""}`,e.link&&(a.onclick=()=>window.open(e.link)),n.appendChild(a)}),o.appendChild(n),a.appendChild(o),e.popup){let t=document.createElement("a"),o=document.createElement("div"),s=e.popupWait||0,l=10,i=a=>{setTimeout(()=>{let d=Math.round(a);if(e.counter){let t=1-a/s,n=["50% 50%","200% 50%"];if(3==e.counter)o.querySelector(".bar").style.width=document.body.clientWidth*t;else{t<7/8&&n.push("100% 0"),t<5/8&&n.push("0 0"),t<3/8&&n.push("0 100%"),t<1/8&&n.push("100% 100%");let a=150*Math.cos(2*t*Math.PI)+50,s=150*Math.sin(2*t*Math.PI)+50;n.push(`${a}% ${s}%`),o.querySelector(".ring").style.clipPath=`polygon(${n.join(",")})`,2==e.counter&&(o.querySelector(".display").innerHTML=d)}}else t.innerHTML=h("waitingMessage",d);a>=0?i(a-l/1e3):(t.innerHTML=h("closeMessage"),o.remove(),n.canClose=!0,t.onclick=()=>n.closePopup(),e.autoClose&&t.click())},l)};if(n.closePopup=()=>{n.canClose&&a.remove()},t.className="close",t.href="javascript:void(0)",e.counter){let t=document.createElement("div");if(3==e.counter)t.className="bar";else if(t.className="ring",2==e.counter){let e=document.createElement("div");e.className="display",o.appendChild(e)}o.className="ads-countdown",o.appendChild(t),a.appendChild(o)}i(s),n.canClose=!1,a.appendChild(t),document.body.appendChild(a)}else if(e.container){let t;r(e.container)?t=e.container:"string"==typeof e.container&&(t=document.querySelector(e.container)),t&&t.appendChild(a)}return n}}));
//# sourceMappingURL=adsCube.min.js.map
